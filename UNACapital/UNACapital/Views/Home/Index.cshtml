@model UNACapital.ViewModels.IndexVM

    @{
        ViewBag.Title = "Index";
    }

    <h2>Tabela CBLC</h2>

    <table class="table">
        <thead>
            <tr>
                <td>Data</td>
                <td>Número</td>
                <td>Quantidade de Ações</td>
                <td>Valor R$</td>
                <td>Doador</td>
                <td>Tomador</td>
                <td>Cotação Média</td>
                <td>Taxa média 3 dias</td>
                <td>Posição em Aberto</td>
            </tr>
        </thead>

        <tbody>
            <tr>
                <td>@Model.CBLC.Date.ToString("dd/MM/yyyy")</td>
                <td>@Model.CBLC.NumberContracts</td>
                <td>@Model.CBLC.AmountActions</td>
                <td>@Model.CBLC.Value</td>
                <td>@Model.CBLC.Donator</td>
                <td>@Model.CBLC.Taker</td>
                <td>@Model.CBLC.Cotation</td>
                <td>@Model.CBLC.ThreeDays</td>
                <td>@Model.CBLC.OpenPosition</td>
            </tr>
        </tbody>
    </table>

    <br />
    <br />

    <div id="chartContainer"></div>

    <script type="text/javascript">

    $(function () {
        var chart = new CanvasJS.Chart("chartContainer", {
            theme: "theme2",
            zoomEnabled: true,
            animationEnabled: true,
            title: {
                text: "Cotação média e CDI da ação 01ABEV3"
            },
            axisY: {
                prefix: "R$ "
            },
            toolTip: {
                shared: true,
                content: "<span><strong>{x}</strong></span> <span>R${y}</span> "
            },
            data: [
            {
                type: "line",

                dataPoints: [
                    @foreach (UNACapital.Models.CDI c in Model.CDIs)
                    {
                        <Text>{x: new Date(@c.Date.Year, @c.Date.Month, @c.Date.Day) , y: @c.Number},</Text>
                    }
                ],

                //You can add dynamic data from the controller as shown below. Check the controller and uncomment the line which generates dataPoints.
                //dataPoints: @Html.Raw(ViewBag.DataPoints),
            }
            ]
        });
        chart.render();
    });
</script>
